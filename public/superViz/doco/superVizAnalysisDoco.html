<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">

    <link rel="stylesheet" href="../../App/css/CTV2_Common.css">
    <link rel="stylesheet" href="../../App/css/CreateReport.css">
    <link rel="stylesheet" href="../../../node_modules/bootstrap/dist/css/bootstrap.css">

    <link href='http://fonts.googleapis.com/css?family=Pontano+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css">

    <script src="../../../node_modules/jquery/dist/jquery.js"></script>
    <script src="../../../node_modules/underscore/underscore.js"></script>
    <script src="../../../bower_components/angular/angular.js"></script>

    <script src="../../../external_components/angular-dragdrop.min.js"></script>
    <script src="../../../external_components/draganddrop.js"></script>
    <script src="../../App/appCreateReport.js"></script>
    <script src="../../App/ReportDataService.js"></script>


    <script src="../../App/ng-google-chart-kdm.js"></script>
    <script src="../superViz.js"></script>
    <script src="../../App/MetricMakerSrvc.js"></script>
    <script src="../svOptionsPanel/svOptionsPanel.js"></script>
    <script src="../testChartContainer/testChartContainer.js"></script>

    <script src="../../../external_components/textAngular.js"></script>
    <script src="../../../external_components/textAngular-sanitize.js"></script>
    <script src="../../../external_components/textAngularSetup.js"></script>
    <script src="../../../bower_components/angular-resource/angular-resource.js"></script>
    <script src="../../../bower_components/angular-animate/angular-animate.min.js"></script>
    <script src="../../../bower_components/angular-bootstrap/ui-bootstrap.js"></script>
    <script src="../../../bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>

    <script src="../../../external_components/kdmDevTools/kdmDevToolsApp.js"></script>

    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/default.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script type="text/javascript">
        appCreateReport.controller('superVisTestCtrl', function ($scope, MetricMakerSrvc) {
            $scope.MetricMakerSrvc = MetricMakerSrvc;
        })
    </script>

    <title></title>
    <style>
        h4 {
            font-size: large;
            margin-top: 60px;
            font-weight: bold;
        }

        body {
            padding: 50px
        }

        li {
            margin-top: 30px;
        }
    </style>
</head>
<body ng-app="AppCreateReport" ng-controller="superVisTestCtrl">


<!--------------SUPERVIZ DIRECTIVE---------------------->

<h2>superViz directive</h2>
The super-viz directive hosts any type of visualization supported by clearthread reports. It is a child of the
chartContainer directive, which provides placement (drag/drop/delete/size) services to it.


<!--------------GENERAL CASE---------------------->

<h4>Parent Scope</h4>
<ul>
    <li>
        ChartContainer directive -- Used in production environment, but not in dev. This is because the prod version of
        the chartContainer directive is crowded with a lot of code that supports dynamic instantiation and drag and
        drop.
    </li>
    <li>TestChartContainer directive -- lightweight directive that provides necessary scope and context for testing
        sub-components (i.e., the superViz directive).
    </li>
</ul>


<!--------------RULES FOR SCOPE---------------------->
<h4>Rules for Scope</h4>
<ul>
    <li>
        <p>Scope Diagram</p>
        <a href="https://www.lucidchart.com/invitations/accept/49216738-f3a8-4469-93c0-343cba0db27d" target="info">
            <img src="https://www.lucidchart.com/publicSegments/view/542de390-a01c-4e60-bc10-59b20a008ac6/image.png"
                 width="700px"></a>
    </li>
    <li>propertyBag is an object declared in chartContainer (testChartContainer in isolateddev) that holds dynamically
        created properties available to all components within the shared scope.
    </li>
    <li><p>Scope can be tested by injecting a string representation of datatype it into the testChartContainer directive
        via
        a ctdatatype attribute.</p>
        <pre style="width:700px"><code>&lt;test-chart-container width="400" height="200" ctdatatype="Boolean">&lt;/test-chart-container></code></pre>
        <p>The datatype should propagate throughout the entire shared scope in
            scope.propertyBag.clearthreaddatatype.</p>
    </li>
    <li><p>The superViz directive contains references to the ReportDataSrvc and MetricMakerSrvc services.</p>
        <img src="https://www.lucidchart.com/publicSegments/view/54249488-92f8-4377-8ec6-2aa30a00c60b/image.png"
             width="400"/>

    </li>
</ul>


<!--------------OPTIONS PANEL---------------------->

<h4>Service Dependencies</h4>
<ul>
    <li>ReportDataSrvc -- The ReportDataSrvc service provides access to all <i>report</i> data endpoints on the server.
        This includes questions, locations, saved uioptions, etc...
    </li>
    <li>MetricMakerSrvc -- The MetricMakerSrvc service provides the logic that supports creating and editing metrics.
    </li>

</ul>

<!--------------OPTIONS PANEL---------------------->

<h4>svOptionsPanel</h4>
The documentation for options panel is on it's own page.
<kdm-nav-item title="see svOptionsPanel page"
              pathandname="visualizations/public/superViz/svOptionsPanel/doco/svOptionsPanelDoco.html"
              description="."></kdm-nav-item>




<!--------------BEHAVIOR ATTRIBUTES---------------------->
<h4>Behavior Attributes</h4>
<ul>
    <li>Multiple instances of directive should be isolated from each other. Changes in one should not affect any
        other.
    </li>
    <li>Should have a control panel that opens on mouseover</li>
</ul>

<kdm-navigation></kdm-navigation>
</body>
</html>